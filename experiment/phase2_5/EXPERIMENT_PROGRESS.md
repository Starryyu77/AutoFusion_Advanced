# Phase 2.5: Evaluator Verification - å®éªŒè¿›åº¦è®°å½•

## å®éªŒç›®æ ‡
éªŒè¯ RealDataFewShotEvaluator çš„è®¾è®¡ï¼Œæ‰¾åˆ°æœ€ä½³çš„ (æ•°æ®é›†, è®­ç»ƒæ·±åº¦, æ¶æ„) ç»„åˆã€‚

---

## Phase 2.5.1: Dataset Selection (æ•°æ®é›†é€‰æ‹©) âœ… å·²å®Œæˆ

**æ‰§è¡Œæ—¶é—´**: 2026-02-11
**æ‰§è¡Œä½ç½®**: ntu-gpu43 (CUDA 3)
**å®Œæ•´æŠ¥å‘Š**: [PHASE_2_5_1_REPORT.md](../../docs/experiments/PHASE_2_5_1_REPORT.md)

### æµ‹è¯•é…ç½®
- æ•°æ®é›†: MMMU, VSR, MathVista, AI2D
- è®­ç»ƒæ·±åº¦: 5 epochs
- æ ·æœ¬æ•°: 16 shots
- æµ‹è¯•æ¶æ„: 4ä¸ª (attention_simple, conv_fusion, transformer_fusion, mlp_simple)

### æ€»ä½“ç»“æœ

| æ•°æ®é›† | Mean Accuracy | Std | æ’å | å¤‡æ³¨ |
|--------|---------------|-----|------|------|
| **AI2D** | **0.2500** | 0.1369 | 1 ğŸ† | **é€‰å®šæ•°æ®é›†** |
| MathVista | 0.1625 | 0.0820 | 2 | è¡¨ç°ä¸­ç­‰ |
| MMMU | 0.1125 | 0.0960 | 3 | ç»¼åˆæ€§è¿‡å¼º |
| VSR | 0.0000 | 0.0000 | 4 | æ ‡ç­¾é—®é¢˜å·²ä¿®å¤ |

### è¯¦ç»†ç»“æœ (å„æ¶æ„è¡¨ç°)

| æ¶æ„ | AI2D | MathVista | MMMU | VSR |
|------|------|-----------|------|-----|
| attention_simple | 0.05 | 0.15 | 0.05 | 0.00 |
| conv_fusion | 0.35 | 0.30 | 0.25 | 0.00 |
| transformer_fusion | 0.40 | 0.10 | 0.00 | 0.00 |
| mlp_simple | 0.20 | 0.10 | 0.15 | 0.00 |

### ç»“è®º
**AI2D** è¢«é€‰ä¸ºåç»­å®éªŒçš„æ ‡å‡†æ•°æ®é›†ï¼š
- æœ€é«˜å¹³å‡å‡†ç¡®ç‡ (0.25)
- è‰¯å¥½çš„æ¶æ„åŒºåˆ†åº¦ (std=0.137)
- transformer_fusion åœ¨è¯¥æ•°æ®é›†ä¸Šè¡¨ç°æœ€ä½³ (0.40)

### å…³é”®ä¿®å¤
1. Python 3.8 å…¼å®¹æ€§ (Tuple vs tuple)
2. è‡ªå®šä¹‰ collate function å¤„ç† None å€¼
3. VSR æ ‡ç­¾è½¬æ¢ (True/False â†’ int)
4. MMMU é…ç½®ï¼ˆåŠ è½½5ä¸ªå­¦ç§‘ï¼‰

---

## Phase 2.5.2: Training Depth Calibration (è®­ç»ƒæ·±åº¦æ ¡å‡†) ğŸ”„ å‡†å¤‡ä¸­

**çŠ¶æ€**: è„šæœ¬å·²ä¿®å¤å¹¶åŒæ­¥åˆ°æœåŠ¡å™¨ï¼Œç­‰å¾…æ‰§è¡Œ

### æµ‹è¯•é…ç½®
- æ•°æ®é›†: AI2D (ç”± 2.5.1 é€‰å®š)
- è®­ç»ƒæ·±åº¦: [1, 3, 5, 10] epochs
- æ ·æœ¬æ•°: 16 shots
- æµ‹è¯•æ¶æ„: 3ä¸ª (attention_simple, conv_fusion, transformer_fusion)

### é¢„æœŸç»“æœ
æ‰¾å‡ºæœ€å…·æˆæœ¬æ•ˆç›Šçš„è®­ç»ƒæ·±åº¦ï¼ˆå‡†ç¡®ç‡ vs æ—¶é—´æƒè¡¡ï¼‰

### æ‰§è¡Œå‘½ä»¤
```bash
ssh ntu-gpu43
cd /usr1/home/s125mdg43_10/AutoFusion_Advanced
CUDA_VISIBLE_DEVICES=3 python3 experiment/phase2_5/run_2_5_2_training_depth.py
```

### å…³é”®ä¿®å¤
- ä¿®å¤äº† run_2_5_2_training_depth.py ä¸­çš„å ä½ç¬¦ '...' é—®é¢˜
- æ·»åŠ äº†å®Œæ•´çš„æ¶æ„ä»£ç å®šä¹‰

---

## Phase 2.5.3: Architecture Fairness (æ¶æ„å…¬å¹³æ€§) â³ å¾…å¼€å§‹

**çŠ¶æ€**: å°šæœªå¼€å§‹

### æµ‹è¯•é…ç½®
- ä½¿ç”¨ 2.5.1 å’Œ 2.5.2 ç¡®å®šçš„æœ€ä½³å‚æ•°
- éªŒè¯ä¸åŒæ¶æ„ç±»å‹çš„å…¬å¹³æ¯”è¾ƒ

---

## æ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| run_2_5_1_dataset_selection.py | âœ… | æ•°æ®é›†é€‰æ‹©å®éªŒ |
| run_2_5_2_training_depth.py | âœ… | è®­ç»ƒæ·±åº¦æ ¡å‡†å®éªŒï¼ˆå·²ä¿®å¤ï¼‰ |
| run_2_5_3_architecture_fairness.py | â³ | æ¶æ„å…¬å¹³æ€§å®éªŒ |
| results/2_5_1_dataset_selection/ | âœ… | 2.5.1 ç»“æœ (å·²åŒæ­¥åˆ°æœ¬åœ°) |
| results/2_5_2_training_depth/ | ğŸ”„ | 2.5.2 ç»“æœï¼ˆå¾…ç”Ÿæˆï¼‰ |
| results/2_5_3_architecture_fairness/ | â³ | 2.5.3 ç»“æœï¼ˆå¾…ç”Ÿæˆï¼‰ |
| docs/experiments/PHASE_2_5_1_REPORT.md | âœ… | è¯¦ç»†å®éªŒæŠ¥å‘Š |

---

## å·²çŸ¥é—®é¢˜ä¸ä¿®å¤è®°å½•

### Issue 1: VSR æ ‡ç­¾ç±»å‹é”™è¯¯
**é—®é¢˜**: VSR æ•°æ®é›†ä½¿ç”¨å¸ƒå°”å€¼ True/False ä½œä¸ºæ ‡ç­¾ï¼Œå¯¼è‡´è®­ç»ƒå¤±è´¥
**ä¿®å¤**: åœ¨ real_data_evaluator.py ä¸­æ·»åŠ  convert_label() å‡½æ•°å¤„ç†å¤šç§æ ‡ç­¾ç±»å‹

### Issue 2: DataLoader None å€¼é”™è¯¯
**é—®é¢˜**: PyTorch é»˜è®¤ collate å‡½æ•°æ— æ³•å¤„ç† batch ä¸­çš„ None å€¼
**ä¿®å¤**: åœ¨ dataset_loader.py ä¸­å®ç° custom_collate_fn()

### Issue 3: Phase 2.5.2 è„šæœ¬ä¸å®Œæ•´
**é—®é¢˜**: run_2_5_2_training_depth.py ä¸­æ¶æ„ä»£ç è¢«æ›¿æ¢ä¸º '...'
**ä¿®å¤**: å·²æ¢å¤å®Œæ•´çš„ FusionModule å®šä¹‰

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. [ ] åœ¨ ntu-gpu43 ä¸Šæ‰§è¡Œ Phase 2.5.2
2. [ ] è®°å½• 1/3/5/10 epochs çš„å‡†ç¡®ç‡ä¸æ—¶é—´
3. [ ] ç¡®å®šæœ€ä¼˜è®­ç»ƒæ·±åº¦
4. [ ] æ‰§è¡Œ Phase 2.5.3
5. [ ] æ€»ç»“ Phase 2.5 å®Œæ•´ç»“æœ
